

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html class="pageview">


<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<base target="_top">
<style type="text/css">
  

/* default css */

table {
  font-size: 1em;
  line-height: inherit;
  border-collapse: collapse;
}


tr {
  
  text-align: left;
  
}


div, address, ol, ul, li, option, select {
  margin-top: 0px;
  margin-bottom: 0px;
}

p {
  margin: 0px;
}


pre {
  font-family: Courier New;
  white-space: pre-wrap;
  margin:0;
}

body {
  margin: 6px;
  padding: 0px;
  font-family: Verdana, sans-serif;
  font-size: 10pt;
  background-color: #ffffff;
  color: #000;
}


img {
  -moz-force-broken-image-icon: 1;
}

@media screen {
  html.pageview {
    background-color: #f3f3f3 !important;
    overflow-x: hidden;
    overflow-y: scroll;
  }

  

  body {
    min-height: 1100px;
    
    counter-reset: __goog_page__;
  }
  
  * html body {
    height: 1100px;
  }
  /* Prevent repaint errors when scrolling in Safari. This "Star-7" css hack
     targets Safari 3.1, but not WebKit nightlies and presumably Safari 4.
     That's OK because this bug is fixed in WebKit nightlies/Safari 4 :-). */
  html*#wys_frame::before {
    content: '\A0';
    position: fixed;
    overflow: hidden;
    width: 0;
    height: 0;
    top: 0;
    left: 0;
  }
  
  .pageview body {
    border-top: 1px solid #ccc;
    border-left: 1px solid #ccc;
    border-right: 2px solid #bbb;
    border-bottom: 2px solid #bbb;
    width: 648px !important;
    margin: 15px auto 25px;
    padding: 40px 50px;
  }
  /* IE6 */
  * html {
    overflow-y: scroll;
  }
  * html.pageview body {
    overflow-x: auto;
  }
  

  
    
    .writely-callout-data {
      display: none;
    }
    

    .writely-footnote-marker {
      background-image: url('MISSING');
      background-color: transparent;
      background-repeat: no-repeat;
      width: 7px;
      overflow: hidden;
      height: 16px;
      vertical-align: top;

      
      -moz-user-select: none;
    }
    .editor .writely-footnote-marker {
      cursor: move;
    }
    .writely-footnote-marker-highlight {
      background-position: -15px 0;
      -moz-user-select: text;
    }
    .writely-footnote-hide-selection ::-moz-selection, .writely-footnote-hide-selection::-moz-selection {
      background: transparent;
    }
    .writely-footnote-hide-selection ::selection, .writely-footnote-hide-selection::selection {
      background: transparent;
    }
    .writely-footnote-hide-selection {
      cursor: move;
    }

    /* Comments */
    .writely-comment-yellow {
      background-color: #ffffd7;
    }
    .writely-comment-orange {
      background-color: #ffe3c0;
    }
    .writely-comment-pink {
      background-color: #ffd7ff;
    }
    .writely-comment-green {
      background-color: #d7ffd7;
    }
    .writely-comment-blue {
      background-color: #d7ffff;
    }
    .writely-comment-purple {
      background-color: #eed7ff;
    }

  


  
  .br_fix span+br:not(:-moz-last-node) {
    
    position:relative;
    
    left: -1ex
    
  }

  
  #cb-p-tgt {
    font-size: 8pt;
    padding: .4em;
    background-color: #ddd;
    color: #333;
  }
  #cb-p-tgt-can {
    text-decoration: underline;
    color: #36c;
    font-weight: bold;
    margin-left: 2em;
  }
  #cb-p-tgt .spin {
    width: 16px;
    height: 16px;
    background: url(//ssl.gstatic.com/docs/clipboard/spin_16o.gif) no-repeat;
  }
}

h6 { font-size: 8pt }
h5 { font-size: 8pt }
h4 { font-size: 10pt }
h3 { font-size: 12pt }
h2 { font-size: 14pt }
h1 { font-size: 18pt }

blockquote {padding: 10px; border: 1px #DDD dashed }

.webkit-indent-blockquote { border: none; }

a img {border: 0}

.pb {
  border-width: 0;
  page-break-after: always;
  /* We don't want this to be resizeable, so enforce a width and height
     using !important */
  height: 1px !important;
  width: 100% !important;
}

.editor .pb {
  border-top: 1px dashed #C0C0C0;
  border-bottom: 1px dashed #C0C0C0;
}

div.google_header, div.google_footer {
  position: relative;
  margin-top: 1em;
  margin-bottom: 1em;
}


/* Table of contents */
.editor div.writely-toc {
  background-color: #f3f3f3;
  border: 1px solid #ccc;
}
.writely-toc > ol {
  padding-left: 3em;
  font-weight: bold;
}
ol.writely-toc-subheading {
  padding-left: 1em;
  font-weight: normal;
}
/* IE6 only */
* html writely-toc ol {
  list-style-position: inside;
}
.writely-toc-none {
  list-style-type: none;
}
.writely-toc-decimal {
  list-style-type: decimal;
}
.writely-toc-upper-alpha {
  list-style-type: upper-alpha;
}
.writely-toc-lower-alpha {
  list-style-type: lower-alpha;
}
.writely-toc-upper-roman {
  list-style-type: upper-roman;
}
.writely-toc-lower-roman {
  list-style-type: lower-roman;
}
.writely-toc-disc {
  list-style-type: disc;
}

/* Ordered lists converted to numbered lists can preserve ordered types, and
   vice versa. This is confusing, so disallow it */
ul[type="i"], ul[type="I"], ul[type="1"], ul[type="a"], ul[type="A"] {
  list-style-type: disc;
}

ol[type="disc"], ol[type="circle"], ol[type="square"] {
  list-style-type: decimal;
}

/* end default css */


  /* default print css */
  @media print {
    body {
      padding: 0;
      margin: 0;
    }

    div.google_header, div.google_footer {
      display: block;
      min-height: 0;
      border: none;
    }

    div.google_header {
      flow: static(header);
    }

    /* used to insert page numbers */
    div.google_header::before, div.google_footer::before {
      position: absolute;
      top: 0;
    }

    div.google_footer {
      flow: static(footer);
    }

    /* always consider this element at the start of the doc */
    div#google_footer {
      flow: static(footer, start);
    }

    span.google_pagenumber {
      content: counter(page);
    }

    span.google_pagecount {
      content: counter(pages);
    }

    .endnotes {
      page: endnote;
    }

    /* MLA specifies that endnotes title should be 1" margin from the top of the page. */
    @page endnote {
      margin-top: 1in;
    }

    callout.google_footnote {
      
      display: prince-footnote;
      footnote-style-position: inside;
      /* These styles keep the footnote from taking on the style of the text
         surrounding the footnote marker. They can be overridden in the
         document CSS. */
      color: #000;
      font-family: Verdana;
      font-size: 10.0pt;
      font-weight: normal;
    }

    /* Table of contents */
    #WritelyTableOfContents a::after {
      content: leader('.') target-counter(attr(href), page);
    }

    #WritelyTableOfContents a {
      text-decoration: none;
      color: black;
    }

    /* Comments */
    .writely-comment-yellow {
      background-color: #ffffd7;
    }
    .writely-comment-orange {
      background-color: #ffe3c0;
    }
    .writely-comment-pink {
      background-color: #ffd7ff;
    }
    .writely-comment-green {
      background-color: #d7ffd7;
    }
    .writely-comment-blue {
      background-color: #d7ffff;
    }
    .writely-comment-purple {
      background-color: #eed7ff;
    }
  }

  @page {
    @top {
      content: flow(header);
    }
    @bottom {
      content: flow(footer);
    }
    @footnotes {
      border-top: solid black thin;
      padding-top: 8pt;
    }
  }
  /* end default print css */


/* custom css */


/* end custom css */

/* ui edited css */

body {
  font-family: Verdana;
  
  font-size: 10.0pt;
  line-height: normal;
  background-color: #ffffff;
}
/* end ui edited css */


/* editor CSS */
.editor a:visited {color: #551A8B}
.editor table.zeroBorder {border: 1px dotted gray}
.editor table.zeroBorder td {border: 1px dotted gray}
.editor table.zeroBorder th {border: 1px dotted gray}


.editor div.google_header, .editor div.google_footer {
  border: 2px #DDDDDD dashed;
  position: static;
  width: 100%;
  min-height: 2em;
}

.editor .misspell {background-color: yellow}

.editor .writely-comment {
  font-size: 9pt;
  line-height: 1.4;
  padding: 1px;
  border: 1px dashed #C0C0C0
}


/* end editor CSS */

</style>

  
  <title>Weaving设计文档 </title>

</head>

<body 
    
    >
    
    
    
&nbsp;
<h1>
  <a id=Weaving_12063006675079946_2119 name=Weaving_12063006675079946_2119></a>Weaving设计文档
</h1>
<br>
<div class=writely-toc id=WritelyTableOfContents toctype=none+none>
  <ol class=writely-toc-none>
    <li>
      <a href=#Weaving_12063006675079946_2119 target=_self>Weaving设计文档</a>
    </li>
    <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
      <li>
        <a href=#_1465328158798629_548042988136_9728396856918308 target=_self>工作机理</a>
      </li>
      <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
        <li>
          <a href=#_694609117635552_0200948137794_6142526111237747 target=_self>互联网</a>
        </li>
        <li>
          <a href=#_3150712327294113_063374493265_6140343621479445 target=_self>整理</a>
        </li>
        <li>
          <a href=#_5948089730926431_189614147244_4398938450998805 target=_self>整体结构</a>
        </li>
        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
          <li>
            <a href=#Weaving_Web_6634100410885777_4 target=_self>Weaving-Web</a>
          </li>
          <li>
            <a href=#Weaving_API_44864041351278183__4503822231299207 target=_self>Weaving-API</a>
          </li>
          <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
            <li>
              <a href=#Extract_API_4020319109789343_8_5199284597143706 target=_self>Extract API</a>
            </li>
            <li>
              <a href=#Dig_API_06327973755830563_6987_14751162016219854 target=_self>Dig API</a>
            </li>
          </ol>
          <li>
            <a href=#Weaving_person_digger_74226021_124303167794798 target=_self>Weaving-person-digger</a>
          </li>
          <li>
            <a href=#Weaving_website_extracer_39913_3214723369805099 target=_self>Weaving-website-extracer</a>
          </li>
          <li>
            <a href=#weaving_repository_91811907782_8707098170164697 target=_self>weaving-repository</a>
          </li>
          <li>
            <a href=#weaving_eye_47349971701131477__053639561588719964 target=_self>weaving-eye</a>
          </li>
        </ol>
      </ol>
      <li>
        <a href=#_5817428568719408_643404362857_847697331698774 target=_self>数据模型</a>
      </li>
      <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
        <li>
          <a href=#SNS_8202325042262558_517169391 target=_self>SNS产品研究</a>
        </li>
        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
          <li>
            <a href=#SNS_5193980284886948_153104065_11189860356180958 target=_self>SNS产品案例分析</a>
          </li>
          <li>
            <a href=#SNS_1912371155051681_327956287_19951044553197506 target=_self>SNS 社区的三层产品架构；</a>
          </li>
          <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
            <li>
              <a href=#_Profile_7807412032827169_4406_2243929838805645 target=_self>底层，Profile；用户的属性描述及行为画像；</a>
            </li>
            <li>
              <a href=#_Relation_35206743725559586_51_04055209510781799 target=_self>中间，Relation; 用户群内部关系链；</a>
            </li>
            <li>
              <a href=#_Content_6519392847199962_0128_8235665719318335 target=_self>上层, 内容(Content);</a>
            </li>
          </ol>
          <li>
            <a href=#_45383552251028725_06344077923_5480614616830788 target=_self>模型</a>
          </li>
        </ol>
      </ol>
      <li>
        <a href=#_9468443641532538_435980376485 target=_self>模块介绍</a>
      </li>
      <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
        <li>
          <a href=#Weaving_Web_18545615098146528__3037542469693365 target=_self>Weaving-Web</a>
        </li>
        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
          <li>
            <a href=#_7928755188004644_447866130621 target=_self>页面列表</a>
          </li>
        </ol>
        <li>
          <a href=#Weaving_API_6362100993568819_2 target=_self>Weaving-API</a>
        </li>
        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
          <li>
            <a href=#Extract_API_32123255811908424_ target=_self>Extract API</a>
          </li>
          <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
            <li>
              <a href=#_479365201521438_3587825772382 target=_self>介绍</a>
            </li>
            <li>
              <a href=#_02136892243615407_33242622580 target=_self>参数</a>
            </li>
            <li>
              <a href=#_9902847309871393_156059517773 target=_self>示例</a>
            </li>
            <li>
              <a href=#_6793814131333962_926028009108 target=_self>返回</a>
            </li>
          </ol>
          <li>
            <a href=#Dig_API_6118173964730284_30687 target=_self>Dig API</a>
          </li>
          <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
            <li>
              <a href=#_04560016834489111_44560714367 target=_self>介绍</a>
            </li>
            <li>
              <a href=#_5479469125699534_424561166701 target=_self>参数</a>
            </li>
            <li>
              <a href=#_5472593425141612_159048967197 target=_self>示例</a>
            </li>
            <li>
              <a href=#_15634923077651552_51690249524_42511140596260055 target=_self>返回</a>
            </li>
          </ol>
        </ol>
        <li>
          <a href=#Weaving_person_digger_74226021 target=_self>Weaving-person-digger</a>
        </li>
        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
          <li>
            <a href=#_3295967473313004_333033454977_8321266337350122 target=_self>挑战</a>
          </li>
          <li>
            <a href=#_07700499838040364_23999130517_21587174033968914 target=_self>解决办法</a>
          </li>
          <li>
            <a href=#_5136384261858334_985301240050_8083446125151064 target=_self>计划中</a>
          </li>
        </ol>
        <li>
          <a href=#Weaving_website_extracer_39913 target=_self>Weaving-website-extracer</a>
        </li>
        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
          <li>
            <a href=#_5679680843345962_327573985297_8473330057345321 target=_self>挑战</a>
          </li>
          <li>
            <a href=#_5376512674432371_079817050097_6749117286220968 target=_self>解决办法</a>
          </li>
          <li>
            <a href=#_015711692015091372_4432434720_45510009102529314 target=_self>设计</a>
          </li>
          <li>
            <a href=#_Filter_7720160342348809_8401643832406024 target=_self>示例Filter:</a>
          </li>
        </ol>
        <li>
          <a href=#weaving_repository_91811907782 target=_self>weaving-repository</a>
        </li>
        <li>
          <a href=#weaving_eye_47349971701131477__3646635997611114 target=_self>weaving-eye</a>
        </li>
      </ol>
    </ol>
    <li>
      <a href=#_9629792225286364_044402118562 target=_self>子项目</a>
    </li>
    <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
      <li>
        <a href=#JSA4j_6745390626283749_1912529 target=_self>JSA4j</a>
      </li>
      <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
        <li>
          <a href=#Jsa4j_18395570394562988_381690_3491548542138506 target=_self>Jsa4j子项目列表</a>
        </li>
        <li>
          <a href=#Jsa4j_db_kv_5953057618684994_2_7267089475625779 target=_self>Jsa4j-db-kv</a>
        </li>
        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0pt>
          <li>
            <a href=#_9085160650495715_712869095245 target=_self>简介</a>
          </li>
          <li>
            <a href=#_503917972661857_3137611464741 target=_self>关于事务</a>
          </li>
          <li>
            <a href=#_09499279082697454_49677418467 target=_self>关于数据结构</a>
          </li>
          <li>
            <a href=#_32669727541067883_66802688893 target=_self>接口</a>
          </li>
        </ol>
        <li>
          <a href=#_get_6033288271382354_29248959 target=_self>get</a>
        </li>
        <li>
          <a href=#_put_49792569580430346_5477672 target=_self>put</a>
        </li>
      </ol>
      <li>
        <a href=#GetFavicon_8243151076575531 target=_self>GetFavicon</a>
      </li>
    </ol>
  </ol>
</div>
<br>
<h2>
  <a id=_1465328158798629_548042988136_9728396856918308 name=_1465328158798629_548042988136_9728396856918308></a>工作机理
</h2>
Weaving可以将杂乱无章的互联网捋成一张语义网，然后在通过语义网挖掘出“人”的信息。<br>
<br>
<h3>
  <a id=_694609117635552_0200948137794_6142526111237747 name=_694609117635552_0200948137794_6142526111237747></a>互联网
</h3>
<ul>
  <li>
    杂乱无章的链接关系
  </li>
  <li>
    隐含有语义信息
  </li>
</ul>
<br>
<img height=405 src="images/drawing_sxYpDV9bsQTSyp3sC7TqfzA_1.png" width=665><br>
主要包含了四类信息：<br>
<ul>
  <li>
    页面本身的文本信息
  </li>
  <li>
    页面直接的超链接
  </li>
  <li>
    数张页面是同一个人创建的
  </li>
  <li>
    创建页面的人之间的关联引起的页面之间的关联
  </li>
</ul>
<br>
<br>
<h3>
  <a id=_3150712327294113_063374493265_6140343621479445 name=_3150712327294113_063374493265_6140343621479445></a>整理
</h3>
<ul>
  <li>
    通过Web抽取，将互联网上的信息抽取为语义网
  </li>
  <li>
    通过数据挖掘，从得到的语义网挖掘出“人”的信息<br>
    <br>
  </li>
</ul>
<p style=direction:ltr;TEXT-ALIGN:left;VERTICAL-ALIGN:baseline>
</p>
<img height=415 src="images/drawing_suPV6kqu9jTc9C4nigNKkug_1.png" width=666><br>
纵向关系<br>
<ul>
  <li>
    每一个事实的网页可以对应一张语义网页
  </li>
  <li>
    一个人会和若干个语义网页关联，他们之间是创造和被创造的关系
  </li>
</ul>
横向关系<br>
<ul>
  <li>
    网页之间有超链接相连
  </li>
  <li>
    人和人之间有人际关系相连
  </li>
  <li>
    语义网之间有语义关系<br>
  </li>
</ul>
<br>
<h3>
  <a id=_5948089730926431_189614147244_4398938450998805 name=_5948089730926431_189614147244_4398938450998805></a>整体结构
</h3>
<br>
<img src="images/drawing_saEzsGRn7ySrU-KEDF0LKMQ_1.png"><br>
<br>
<h4>
  <a id=Weaving_Web_6634100410885777_4 name=Weaving_Web_6634100410885777_4></a>Weaving-Web
</h4>
Weaving的Web前端，符合Restful的设计，有两个实现，一个是本地使用Derby为数据库。一个在GAE使用BigTable为数据库。<br>
<h4>
  <a id=Weaving_API_44864041351278183__4503822231299207 name=Weaving_API_44864041351278183__4503822231299207></a>Weaving-API
</h4>
Weaving的核心API，对外提供服务，有两个主要接口。<br>
您可以在<a href=http://weaving-gae.appspot.com/api id=y0j: title=http://weaving-gae.appspot.com/api>http://weaving-gae.appspot.com/api</a>使用。<br>
<br>
<h5>
  <a id=Extract_API_4020319109789343_8_5199284597143706 name=Extract_API_4020319109789343_8_5199284597143706></a>Extract API
</h5>
根据一个URL，挖出其相应的WebSite信息。该WebSite信息是结构化的。
<p>
  <br>
</p>
<p>
  <a href=http://weaving-gae.appspot.com/api/extract?q=http%3A%2F%2Fwww.google.com%2Fprofiles%2FKaiYanNju&amp;pretty=1></a>
</p>
<h5>
  <a id=Dig_API_06327973755830563_6987_14751162016219854 name=Dig_API_06327973755830563_6987_14751162016219854></a>Dig API
</h5>
根据用户名，Email或者url，挖出其相应的Person信息。该Person由若干website聚合而成<br>
<br>
<h4>
  <a id=Weaving_person_digger_74226021_124303167794798 name=Weaving_person_digger_74226021_124303167794798></a>Weaving-person-digger
</h4>
<p>
  从语义网挖掘出人的核心模块
</p>
<h4>
  <a id=Weaving_website_extracer_39913_3214723369805099 name=Weaving_website_extracer_39913_3214723369805099></a>Weaving-website-extracer
</h4>
<p>
  从互联网抽取出语义网的核心模块
</p>
<h4>
  <a id=weaving_repository_91811907782_8707098170164697 name=weaving_repository_91811907782_8707098170164697></a>weaving-repository
</h4>
<p>
  提供信息存储，索引，搜索服务。使用<a href=http://code.google.com/p/jsa4j/ id=bc0_ title=Jsa4j>Jsa4j</a>为底层
</p>
<h4>
  <a id=weaving_eye_47349971701131477__053639561588719964 name=weaving_eye_47349971701131477__053639561588719964></a>weaving-eye
</h4>
<p>
  网页获取，存储，索引。可以翻墙
</p>
<br>
<h2>
  <a id=_5817428568719408_643404362857_847697331698774 name=_5817428568719408_643404362857_847697331698774></a>数据模型
</h2>
<h3>
  <a id=SNS_8202325042262558_517169391 name=SNS_8202325042262558_517169391></a>SNS产品研究
</h3>
我们对目前的SNS产品进行了一些研究，方便架构和模型的确立<br>
<h4>
  <a id=SNS_5193980284886948_153104065_11189860356180958 name=SNS_5193980284886948_153104065_11189860356180958></a>SNS产品案例分析
</h4>
具体调查见《SNS产品案例分析》。<br>
<br>
调查结果<br>
<br>
从推理的角度上讲，数据间有两类关系：<br>
站内推理，如已知个人ID，推出个人主页<br>
&nbsp;站间推理，如推理出两个服务是同一个人的。<br>
<br>
此外还有一些推理是绝对可信的，比如存在Email或者链接的信息，一些则是不那么可信，比如 仅仅是真实姓名相同就加以判定是同一个人。<br>
<br>
此外，如果一个div中出现Friend,友等字样，其下链接是其友人的站内链接。<br>
<br>
一个Profile中出现的同站链接多半为好友或Follow联机，其异站链接多半为自己的其他博客。<br>
<h4>
  <a id=SNS_1912371155051681_327956287_19951044553197506 name=SNS_1912371155051681_327956287_19951044553197506></a>SNS 社区的三层产品架构；
</h4>
从概念上，SNS是一种新的在线生活方式；连 FACEBOOK自己都说自己不是一个网站，而是在创造一种新的网络生活方式；这个理念和腾讯的“在线社区产业”是相通；<br>
<br>
从外部一些文章可看到，腾讯形成了在线社区3C产业链，分为三层，从下到上分别是用户(Customer), 社区(Community), 内容(Content)；这是腾讯的创造性贡献；<br>
<br>
其实，具体到一个SNS社区产品模型，从下到上也分为三层：<br>
<h5>
  <a id=_Profile_7807412032827169_4406_2243929838805645 name=_Profile_7807412032827169_4406_2243929838805645></a>底层，Profile；用户的属性描述及行为画像；
</h5>
比如用户的社会属性，姓名，性别，年龄，职业等；还包括用户的爱好，服务使用倾向等推导属性；<br>
这相当于社区的“地基”，这里有几种细分：<br>
<br>
一类是<b>用户的直接属性</b>；<br>
表现为用户可以通过直接引导填写的信息；如姓名，年龄，性别，职业，毕 业年份等基本社会属性；看到所有的SNS都在引导用户填写，甚至采用一些激励措施；<br>
<br>
二类是<b>用户在社区中生存所获得的社区属性</b>；<br>
比如成长等级，称号，虚拟职务，角色等；<br>
<br>
三类是<b>用户的隐藏的扩展属性</b>；<br>
即系统通过对用户在各类社区长久活动留下痕迹的智能挖掘 与分析，所形成的对用户有统计意义的商业偏好属性；比如用户XX，是一个30岁左右，怀孕期的妈妈，对婴儿用品，化妆品有独特的潜在偏好；<br>
<br>
一个不同完善程度的社区系统，对于一个用户信息的收集也是不同层次的；而所有的商业网站通过持久竞争，留下来最宝贵的核心竞争信息，就是对用户 个人信息的掌握能力了；<br>
<br>
<h5>
  <a id=_Relation_35206743725559586_51_04055209510781799 name=_Relation_35206743725559586_51_04055209510781799></a>中间，Relation; 用户群内部关系链；
</h5>
在WEB1.0时代，每天浏览SINA的人 可能有100万，但他们虽然同在访问一个网站，同看一条新闻，但相互之间无法察觉，无法交流和沟通，这100万人中是孤立的，没有关系链；<br>
<br>
随着WEB2.0元素的发展，网站经营者知道给每个访问的用户一个ID，让他们相互可见，并提供他们相互联系，认识并熟知的工具和手段（比如站 内消息，相互访问首页）；<br>
<br>
关系链，包括人与人的关系；人与群体的关系；群与群的关系；<br>
<br>
具体表现为，好友关系（强关系链），关注追随关系（弱关系链），同好关系，（同爱好，粉丝圈）；同地域关系（同城）等；<br>
<h5>
  <a id=_Content_6519392847199962_0128_8235665719318335 name=_Content_6519392847199962_0128_8235665719318335></a> 上层, 内容(Content);
</h5>
内容(content), 包括两类，<br>
一类，是网站经营者官方提供的资讯，图片，音乐，等浏览类的资源；<br>
二类，是UGC（User Generated Content），用户自创造自组织的内容;<br>
<br>
可表现为，个人日志（Blog），相片，即时博客（如短文本Qzone心情，Twitter）;<br>
<br>
内容，从表现形式及载体上从简单到丰富，从简单文本，短文本，到图片，音频，甚至个人视频，随着网络硬件条件的发展，内容的主流载体将更加 RICH化；<br>
<br>
<h4>
  <a id=_45383552251028725_06344077923_5480614616830788 name=_45383552251028725_06344077923_5480614616830788></a>模型
</h4>
<div>
  如图上图。这个模块可以理解为Web抽取之后形成的带有语义的数据池。<br>
  <img src="images/drawing_sDbZSNPKstTDoSdrHoabjhQ_1.png"><br>
  如图一个社交网站由3部分组成：<br>
  <ol>
    <li>
      profile
    </li>
    <li>
      connection
    </li>
    <li>
      feed
    </li>
  </ol>
  <br>
  <b>profile</b>中，一般会有如下信息：<br>
  &nbsp;&nbsp; &nbsp; * 个人主页<br>
  &nbsp;&nbsp; &nbsp; * 用户名，一般可读<br>
  &nbsp;&nbsp; &nbsp; * id,一般不可读<br>
  &nbsp;&nbsp; &nbsp; * Emails<br>
  &nbsp;&nbsp; &nbsp; * 头像链接s<br>
  &nbsp;&nbsp; &nbsp; * 基本信息(真实姓名,生日,性别,地点....)<br>
  <br>
  需要有一个功能，就是根据URL推算出web服务商<br>
  <br>
  <b>connection</b>中一般有：<br>
  &nbsp;&nbsp; &nbsp; * Followed的人到站内链接s<br>
  &nbsp;&nbsp; &nbsp; * Follow人的站内和站外链接s<br>
  &nbsp;&nbsp; &nbsp; * 朋友的站内链接s<br>
  &nbsp;&nbsp; &nbsp; * 自己的站外链接s<br>
  <br>
  其中Follow和朋友之间的不同点就是follow不需要别人同意，而friend必须被同意，同时friend必然是双向的<br>
  <br>
  <b>feed</b>中包括<br>
  <br>
  信息源地址<br>
  <br>
  需要对信息源进行保存并且有全文索引的功能，但取用是只要地址就可以了<br>
  <br>
  Feed引擎：<br>
  能提供Feed聚合业务,类似friendfeed。<br>
  <h2>
    <a id=_9468443641532538_435980376485 name=_9468443641532538_435980376485></a>模块介绍
  </h2>
  <h3>
    <a id=Weaving_Web_18545615098146528__3037542469693365 name=Weaving_Web_18545615098146528__3037542469693365></a>Weaving-Web
  </h3>
  Weaving的Web前端，符合Restful的设计，有两个实现，一个是本地使用Derby为数据库。一个 在GAE使用BigTable为数据库。使用技术为Spring mvc+velocity。<br>
  <h4>
    <a id=_7928755188004644_447866130621 name=_7928755188004644_447866130621></a>页面列表
  </h4>
  <ul>
    <li>
      / 主页
    </li>
    <li>
      /search 搜索页面
    </li>
    <li>
      /about 介绍页面
    </li>
  </ul>
  <br>
  <ul>
    <li>
      /api api介绍页面
    </li>
    <li>
      /api/extract 抽取API
    </li>
    <li>
      /api/dig 挖掘API
    </li>
  </ul>
  <br>
  <ul>
    <li>
      /person/kaiyannju 个人页面
    </li>
  </ul>
  <br>
  <h3>
    <a id=Weaving_API_6362100993568819_2 name=Weaving_API_6362100993568819_2></a>Weaving-API
  </h3>
  Weaving的核心API，对外提供服务，有两个主要接口。可以提供给其他用户使用。<br>
  您可以在<a href=http://weaving-gae.appspot.com/api id=mlk4 title=http://weaving-gae.appspot.com/api>http://weaving-gae.appspot.com/api</a>访问。<br>
  <h4>
    <a id=Extract_API_32123255811908424_ name=Extract_API_32123255811908424_></a>Extract API
  </h4>
  <h5>
    <a id=_479365201521438_3587825772382 name=_479365201521438_3587825772382></a>介绍
  </h5>
  根据一个URL，挖出其相应的WebSite信息。该WebSite信息是结构化的。
  <h5>
    <a id=_02136892243615407_33242622580 name=_02136892243615407_33242622580></a>参数
  </h5>
  http://weaving-gae.appspot.com/api/extract？q={url}
  <h5>
    <a id=_9902847309871393_156059517773 name=_9902847309871393_156059517773></a>示例
  </h5>
  <p>
    <a href=http://weaving-gae.appspot.com/api/extract?q=http%3A%2F%2Fwww.google.com%2Fprofiles%2FKaiYanNju&amp;pretty=1>分 析http://www.google.com/profiles/KaiYanNju</a>
  </p>
  <h5>
    <a id=_6793814131333962_926028009108 name=_6793814131333962_926028009108></a>返回
  </h5>
  JSON数据。数据模型为<br>
  <ul>
    <li>
      profile
    </li>
    <ul>
      <li>
        id
      </li>
      <li>
        host
      </li>
      <li>
        url
      </li>
      <li>
        username
      </li>
      <li>
        avatarLinks
      </li>
      <li>
        emails
      </li>
      <li>
        personInfomations
      </li>
    </ul>
    <li>
      connection
    </li>
    <ul>
      <li>
        followedLinks
      </li>
      <li>
        followLinks
      </li>
      <li>
        friendLinks
      </li>
      <li>
        selfLinks
      </li>
    </ul>
    <li>
      feed
    </li>
    <ul>
      <li>
        feedLinks
      </li>
    </ul>
  </ul>
  其中复数为字符串数组。<br>
  <h4>
    <a id=Dig_API_6118173964730284_30687 name=Dig_API_6118173964730284_30687></a>Dig API
  </h4>
  <h5>
    <a id=_04560016834489111_44560714367 name=_04560016834489111_44560714367></a>介绍
  </h5>
  根据用户名，Email或者url，挖出其相应的Person信息。该Person由若干website聚合而 成
  <h5>
    <a id=_5479469125699534_424561166701 name=_5479469125699534_424561166701></a>参数
  </h5>
  http://weaving-gae.appspot.com/api/dig？q={username,email or url}
  <h5>
    <a id=_5472593425141612_159048967197 name=_5472593425141612_159048967197></a>示例
  </h5>
  <p>
    <a href=http://weaving-gae.appspot.com/api/dig?q=http%3A%2F%2Fwww.google.com%2Fprofiles%2FKaiYanNju&amp;pretty=1>挖 掘http://www.google.com/profiles/KaiYanNju</a>
  </p>
  <br>
  <h5>
    <a id=_15634923077651552_51690249524_42511140596260055 name=_15634923077651552_51690249524_42511140596260055></a>返回
  </h5>
  JSON数据。数据模型为<br>
  <ul>
  </ul>
  <ul>
    <li>
      key
    </li>
  </ul>
  <ul>
    <li>
      websites<br>
    </li>
  </ul>
  <ul style=MARGIN-LEFT:40px>
    <li>
      profile
    </li>
    <ul>
      <li>
        id
      </li>
      <li>
        host
      </li>
      <li>
        url
      </li>
      <li>
        username
      </li>
      <li>
        avatarLinks
      </li>
      <li>
        emails
      </li>
      <li>
        personInfomations
      </li>
    </ul>
    <li>
      connection
    </li>
    <ul>
      <li>
        followedLinks
      </li>
      <li>
        followLinks
      </li>
      <li>
        friendLinks
      </li>
      <li>
        selfLinks
      </li>
    </ul>
    <li>
      feed
    </li>
    <ul>
      <li>
        feedLinks
      </li>
    </ul>
  </ul>
  其中复数为数组。<br>
  <br>
  <h3>
    <a id=Weaving_person_digger_74226021 name=Weaving_person_digger_74226021></a>Weaving-person-digger
  </h3>
  <p>
    从语义网挖掘出人的核心模块
  </p>
  <p>
  </p>
  <div class=O1 style=TEXT-ALIGN:left;VERTICAL-ALIGN:baseline>
    <h4>
      <a id=_3295967473313004_333033454977_8321266337350122 name=_3295967473313004_333033454977_8321266337350122></a>挑战
    </h4>
    •语义网本身不准确。有假信息和信息不足。从不准确和不完整的信息源中，挖掘出相当可靠的信息是很困难的。<br>
    •语义网太大，分析困难<br>
    <h4>
      <a id=_07700499838040364_23999130517_21587174033968914 name=_07700499838040364_23999130517_21587174033968914></a>解决办法
    </h4>
    •信息分级。将信息利用可靠性分级。有的信息天生很准确，如Email。有的网站被解析的很准确，而有的不准。<br>
    •从语义网提取出局部进行运算。先利用索引和推理，选出候选网站，减小问题域，再进行运算。<br>
    •Agent(滚雪球的判别机器人) 。利用Agent技术，时间监视“人”单位，以助于发现新的关联或者剔除旧的关系。<br>
    <h4>
      <a id=_5136384261858334_985301240050_8083446125151064 name=_5136384261858334_985301240050_8083446125151064></a>计划中
    </h4>
    利用机器学习来处理分级的问题。<br>
    <br>
  </div>
  <br>
  <p>
  </p>
  <h3>
    <a id=Weaving_website_extracer_39913 name=Weaving_website_extracer_39913></a>Weaving-website-extracer
  </h3>
  <p>
    从 互联网抽取出语义网的核心模块
  </p>
  <p>
  </p>
  <h4>
    <a id=_5679680843345962_327573985297_8473330057345321 name=_5679680843345962_327573985297_8473330057345321></a>挑战
  </h4>
  •各大网站各不相同。页面千奇百怪。<br>
  •独立博客<br>
  •访问权限<br>
  <br>
  <h4>
    <a id=_5376512674432371_079817050097_6749117286220968 name=_5376512674432371_079817050097_6749117286220968></a>解决办法
  </h4>
  •社交网站结构归纳，模型的确立<br>
  •脚本引擎。三行搞定一类网站。<a href=http://code.google.com/p/weaving/source/browse/src/weaving-website-extracter/src/main/resources/META-INF/scripts/extracter/doubanProfile.groovy>示 例代码</a><br>
  •动态策略选择<br>
  •使用现有API(如Facebook Graph API)<br>
  <h4>
    <a id=_015711692015091372_4432434720_45510009102529314 name=_015711692015091372_4432434720_45510009102529314></a>设计
  </h4>
  使用Filter-Pipe结构。<br>
  将线索逐渐经过Filer而丰富，同时管理策略，决定下一个Filer和什么时候结束。<br>
  <br>
  利用Groovy脚本实现的Filter实例。极大的方便的一个Filter的建立。<br>
  <h4>
    <a id=_Filter_7720160342348809_8401643832406024 name=_Filter_7720160342348809_8401643832406024></a>示例Filter:
  </h4>
  <ul>
    <li>
      LinkFilter.
    </li>
  </ul>
  <div style=MARGIN-LEFT:40px>
    通过判别Filter中的Link模式和Link是同站还是异站带，推测这个Link的语义
  </div>
  <ul>
    <li>
      XENFilter
    </li>
  </ul>
  <div style=MARGIN-LEFT:40px>
    直接通过语义网标准来确定Link的语义
  </div>
  <ul>
    <li>
      GoogleGroovyFilter
    </li>
  </ul>
  <div style=MARGIN-LEFT:40px>
    专门为Google定制的Filter，只对Google有效。
  </div>
  <p>
  </p>
  <h3>
    <a id=weaving_repository_91811907782 name=weaving_repository_91811907782></a>weaving-repository
  </h3>
  <p>
    提 供信息存储，索引，搜索服务。使用<a href=http://code.google.com/p/jsa4j/ id=oaqe title=Jsa4j>Jsa4j</a>为底层
  </p>
  <p>
    由于Jsa4j已经封装了复杂的底层，这个模块基本用于OR Mapping。
  </p>
  <h3>
    <a id=weaving_eye_47349971701131477__3646635997611114 name=weaving_eye_47349971701131477__3646635997611114></a>weaving-eye
  </h3>
  <p>
    网页获取，存储，索引。可以翻墙
  </p>
  <br>
  翻墙功能需要使用代理。<br>
  <h1>
    <a id=_9629792225286364_044402118562 name=_9629792225286364_044402118562></a>子项目
  </h1>
  <h2>
    <a id=JSA4j_6745390626283749_1912529 name=JSA4j_6745390626283749_1912529></a>JSA4j
  </h2>
  <p>
    jsa4j是Jerrymouse Storage API for Java的简称。是<a href=http://www.jerrymouse.org/ rel=nofollow>JerryMouse</a>小组开发的通用数据 底层，可以架设在单机或者Gae环境之下。脱胎于<a href=http://commoncloud.sourceforge.net/ rel=nofollow>CommonCloud</a>项目，由于<a href=http://commoncloud.sourceforge.net/ rel=nofollow>CommonCloud</a>过 于复杂，缺乏可用性。所以开发了他的简化版Jsa4J。Jsa4J的目标是可用和简洁。
  </p>
  <p>
    Jsa4J给技术力量薄弱的团队，提供使用 Nosql数据库的可能性。可以用Jsa4j-db-kv-derby开发，运行在sa4j-db-kv-gae上。也简化了数据库的开发。&nbsp;
  </p>
  <p>
    地址<a href=http://code.google.com/p/jsa4j/ id=clu3 title=http://code.google.com/p/jsa4j/>http://code.google.com/p/jsa4j/</a>。<br>
  </p>
  <p>
    <img src="images/drawing_smIoOM_LW2WT2mBuSEnNeEA_1.png">
  </p>
  <p>
  </p>
  <h3>
    <a id=Jsa4j_18395570394562988_381690_3491548542138506 name=Jsa4j_18395570394562988_381690_3491548542138506></a>Jsa4j子项目列表
  </h3>
  <br>
  Jsa4j-db-kv 提供 KeyValue<a href=http://code.google.com/p/jsa4j/w/edit/KeyValue></a>数据库接口。有一个Derby和一个Gae实现。还有用于缓存的支持<br>
  <br>
  Jsa4j-vfs 提供虚拟文件系统支持。<br>
  <br>
  Jsa4j-db-table 表结构的数据库支持<br>
  <br>
  Jsa4j-search 提供全文搜索支持。<br>
  <br>
  Jsa4j-bus 建立在分布式缓存上的通讯总线
  <p>
  </p>
  <br>
  <h3>
    <a id=Jsa4j_db_kv_5953057618684994_2_7267089475625779 name=Jsa4j_db_kv_5953057618684994_2_7267089475625779></a>Jsa4j-db-kv
  </h3>
  <h4>
    <a id=_9085160650495715_712869095245 name=_9085160650495715_712869095245></a>简介
  </h4>
  <p>
    <a id=简介 name=简介></a>随着NoSql<a href=http://code.google.com/p/jsa4j/w/edit/NoSql></a>运动，新奇的数据库层出不穷，提供 了各种丰富的接口。这些接口丰富在两个方面：
  </p>
  <ul>
    <li>
      事务处理
    </li>
    <li>
      数据结构
    </li>
  </ul>
  <p>
    Jsa4j- db-kv没有“事务处理”和“数据结构”的概念，极大的方便了数据库开发。&nbsp;
  </p>
  <p>
  </p>
  <p>
  </p>
  <p>
  </p>
  <h4>
    <a id=_503917972661857_3137611464741 name=_503917972661857_3137611464741></a><b>关于事务</b>
  </h4>
  <p>
  </p>
  <p>
    <a id=x_1p name=具体情况></a>
  </p>
  <p>
    <a id=n9o1 name=具体情况></a>不管是 ACID还是BASE，都是事务处理方式。Jsa4j-db-kv没有事务的概念，默认大于配置， 认为存操作需要事务，取操作不需要。认为数据库写入永远是成功的。具体是不是真的能成功，应该由另一套系统来管理。
  </p>
  <p>
    <a id=j4ke name=具体情况></a>对于比较可靠的列存数据库，和不怎么可靠的类似Cache的数据库都有支持。
  </p>
  <p>
  </p>
  <p>
  </p>
  <h4>
    <a id=_09499279082697454_49677418467 name=_09499279082697454_49677418467></a><b>关于数据结构</b>
  </h4>
  <p>
  </p>
  <p>
    <a id=n0r. name=具体情况></a>
  </p>
  <p>
    <a id=tbyg name=具体情况></a>数据结构方面有关系性 数据库，列存(BigTable<a href=http://code.google.com/p/jsa4j/w/edit/BigTable></a> like),文档数据库，图数据库和Key Value之分。其中Key Value是最简单的，可以由其他类型的数据库实现。同时提供一个索引工具和搜索工具，满足在数据索引上的需要。
  </p>
  <br>
  <h4>
    <a id=_32669727541067883_66802688893 name=_32669727541067883_66802688893></a>接口
  </h4>
  Jsa4j-db-kv只是一个KV数据库接口。<br>
  接口本身非常简洁：只有两个方法：&nbsp;
  <p>
  </p>
  <p>
  </p>
  <blockquote>
    String get(String key)<br>
    String put(String key, String value)<br>
  </blockquote>
  <p>
    详细<br>
  </p>
  <blockquote>
    <h3>
      <a id=_get_6033288271382354_29248959 name=_get_6033288271382354_29248959></a> get
    </h3>
    <font face="Courier New"><a href=http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true title="java.lang 中的类或接口">String</a> <b>get</b>(<a href=http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true title="java.lang 中的类或接口">String</a>&nbsp;key)</font> 取操作
    <p>
    </p>
    <b>参数：</b><font face="Courier New">key</font> - 键 <b>返回：</b>值，理论上是一个json对象。当然看你存入的是什么了
  </blockquote>
  <a id="put(java.lang.String, java.lang.String)" name="put(java.lang.String, java.lang.String)"></a>
  <blockquote>
    <h3>
      <a id=_put_49792569580430346_5477672 name=_put_49792569580430346_5477672></a> put
    </h3>
    <font face="Courier New"><a href=http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true title="java.lang 中的类或接口">String</a> <b>put</b>(<a href=http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true title="java.lang 中的类或接口">String</a>&nbsp;key, <a href=http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true title="java.lang 中的类或接口">String</a>&nbsp;value)</font> 存操作。
    <ul>
      <li>
        如果Key为null,value也为null,则不操作
      </li>
      <li>
        如果key为null,value不为null,<b>不操作而不是执行insert操作</b>
      </li>
      <li>
        如果key不为null,且在数据库中存在对应的value, value也为null，执行delete操作
      </li>
      <li>
        如果key不为null,且在数据库中存在对应的value, value不为null，执行update操作
      </li>
      <li>
        如果key不为null,但在数据库中不存在对应的value,,value为null,则不操作
      </li>
      <li>
        如果key不为null,但在数据库中不存在对应的value,,value不为null,执行inerst操作
      </li>
    </ul>
    注意点：DB提供的是数据库的底层操作。不提供主键生成机制。
    <p>
    </p>
    <b>参数：</b><font face="Courier New">key</font> - 如果是insert操作，key中必须含有类型信息，否则结果不可预知<font face="Courier New">value</font> - 一个JSON对象，也可以是别的 <b>返回：</b>刚刚操作的那个对象的key<br>
  </blockquote>
  <br>
  满足这个接口开发，就可以使系统有很好的可迁移性。<br>
  <br>
  <h2>
    <a id=GetFavicon_8243151076575531 name=GetFavicon_8243151076575531></a>GetFavicon
  </h2>
  网址：<a href=http://favicongetter.appspot.com/ id=dk31 title=http://favicongetter.appspot.com/>http://favicongetter.appspot.com/</a><br>
  <br>
  <ul>
    <li>
      可以通过域名来获得一个网站的图标，简单实用。
    </li>
    <li>
      基于Google CDN。可以获得良好的速度。
    </li>
    <li>
      附带一个基于CSS3的图标编辑器。提供API服务。
    </li>
  </ul>
</div>
<br></body>
</html>